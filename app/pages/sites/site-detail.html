<ion-header>
  <ion-toolbar>
    <ion-title *ngIf="site_ID">
      Edit Site {{site_ID}}
    </ion-title>
    <ion-title *ngIf="!site_ID">
      Add Site
    </ion-title>
    <ion-buttons start>
      <button ion-button (click)="dismiss()">
        <ion-icon name="md-close"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div [hidden]="!notready" align="left" id="loading-spinner"><ion-spinner></ion-spinner></div>
  <div [hidden]="notready">
    <form [formGroup]="siteForm" *ngIf="active" (ngSubmit)="onSubmit(siteForm.value)">
      <ion-input type="number" [readonly]="true" [hidden]="true" formControlName="id"></ion-input>
      <ion-label>Site Name</ion-label>
      <ion-item><ion-input type="text" [readonly]="isReadOnly" formControlName="name"></ion-input></ion-item>
      <ion-label>USGS SID</ion-label>
      <ion-item><ion-input type="text" [readonly]="isReadOnly" formControlName="usgs_sid"></ion-input></ion-item>
      <ion-label>USGS SCode</ion-label>
      <ion-item><ion-input type="text" [readonly]="isReadOnly" formControlName="usgs_scode"></ion-input></ion-item>
      <ion-label>Description</ion-label>
      <ion-item><ion-input type="text" [readonly]="isReadOnly" formControlName="description"></ion-input></ion-item>
      <ion-label>Latitude</ion-label>
      <ion-item><ion-input type="text" [readonly]="isReadOnly" formControlName="latitude"></ion-input></ion-item>
      <ion-label>Longitude</ion-label>
      <ion-item><ion-input type="text" [readonly]="isReadOnly" formControlName="longitude"></ion-input></ion-item>
      <ion-label>Datum</ion-label>
      <ion-item><ion-input type="text" [readonly]="isReadOnly" formControlName="datum"></ion-input></ion-item>
      <ion-label>Method</ion-label>
      <ion-item><ion-input type="text" [readonly]="isReadOnly" formControlName="method"></ion-input></ion-item>
      <ion-label>Site Status</ion-label>
      <ion-item><ion-input type="text" [readonly]="isReadOnly" formControlName="status"></ion-input></ion-item>
      <ion-label>NWIS Customer Code</ion-label>
      <ion-item><ion-input type="text" [readonly]="isReadOnly" formControlName="nwis_customer_code"></ion-input></ion-item>
      <ion-label>Project(s)</ion-label>
      <ion-item><ion-select [multiple]="true" formControlName="projects">
        <ion-option *ngFor="let project of myProjects" [value]="project.id" [selected]="false">{{project.name}}</ion-option>
      </ion-select></ion-item>
      <div><button type="submit">Submit</button></div>
    </form>
  </div>
</ion-content>
